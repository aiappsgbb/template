# azure.yaml defines the Azure Developer CLI (azd) project configuration
name: azd-template
metadata:
  template: azd-template@0.0.1-beta

# Infrastructure configuration
infra:
  provider: bicep
  path: infra
  module: main
  parameters: main.parameters.json

services:
  # Add your services here
  # Example for Container Apps:
  # web:
  #   project: "./src/web"
  #   language: js
  #   host: containerapp
  # api:
  #   project: "./src/api"
  #   language: python
  #   host: containerapp

# Hooks allow you to run scripts at various points in the azd workflow
hooks:
  # Runs before provisioning
  # preprovision:
  #   shell: pwsh
  #   run: |
  #     echo "Running pre-provision hook"
  
  # Runs after provisioning - useful for importing container images
  # postprovision:
  #   shell: pwsh
  #   run: |
  #     echo "Running post-provision hook"
  #     # Example: Import images to ACR
  #     # az acr import --name myregistry --source mcr.microsoft.com/dotnet/aspnet:8.0 --image aspnet:8.0
  
  # Runs before deployment
  # predeploy:
  #   shell: pwsh
  #   run: |
  #     echo "Running pre-deploy hook"
  
  # Runs after deployment
  # postdeploy:
  #   shell: pwsh
  #   run: |
  #     echo "Running post-deploy hook"